# makefile
obj-m	:= lkm_simple.o lkm_invisible.o lkm_netlink.o

KDIR	:= /lib/modules/$(shell uname -r)/build

default:
	$(MAKE) -C $(KDIR) M=$(PWD) modules
	gcc client_netlink.c -o client_netlink
clean:
	$(MAKE) -C $(KDIR) M=$(PWD) clean
	rm -f client_netlink
install:
	sudo insmod lkm_simple.ko
	sudo insmod lkm_invisible.ko
	sudo insmod lkm_netlink.ko
uninstall:
	sudo rmmod lkm_simple.ko
	sudo rmmod lkm_invisible.ko
	sudo rmmod lkm_netlink.ko

